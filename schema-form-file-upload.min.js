angular.module("schemaForm").run(["$templateCache",function(e){e.put("directives/decorators/bootstrap/upload/file_upload.html",'<div class="form-group" ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess()}"><label class="control-label" ng-show="showTitle()">{{form.title}}</label><div class="form-group"><div class="gallery-box"><h2 class="blue">Edit mode</h2><ul class="list-inline"><li ng-repeat="attachment in $$value$$.attachments" style="display:inline-table;"><div class="text-center col-xs-12 thumb-container"><img ng-if="attachment.mimeType.indexOf(\'image\') != -1" width="100" ng-src="{{attachment.url}}"> <img ng-if="attachment.mimeType.indexOf(\'spreadsheetml\') != -1 || attachment.mimeType.indexOf(\'excel\') != -1" width="100" ng-src="images/xlsx-placeholder.png"> <img ng-if="attachment.mimeType.indexOf(\'wordprocessingml\') != -1 || attachment.mimeType.indexOf(\'msword\') != -1" width="100" ng-src="images/docx-placeholder.png"> <img ng-if="attachment.mimeType.indexOf(\'pdf\') != -1" width="100" ng-src="images/pdf-placeholder.png"><img ng-if="attachment.mimeType.indexOf(\'pdf\') == -1 && attachment.mimeType.indexOf(\'image\') == -1 && attachment.mimeType.indexOf(\'spreadsheetml\') == -1 && attachment.mimeType.indexOf(\'excel\') == -1 && attachment.mimeType.indexOf(\'wordprocessingml\') == -1 && attachment.mimeType.indexOf(\'msword\') == -1" width="100" ng-src="images/file-placeholder.png"> <span ng-click="evalExpr(form.uploadOptions.modal.flow.removeFile, {formkey:form.key, index:$index, url:attachment.url});" style="position:absolute; top: -10px; right: 0; z-index:1000; cursor:pointer;"><img ng-src="images/thumb-close.png"></span><div class="thumb-overlay"><p><span style="font-size: 0.8em; word-wrap: break-word;">{{attachment.printName}}</span></p></div></div></li><li style="display:inline-table;"><div flow-init="form.uploadOptions.modal.flow.init" flow-files-submitted="$flow.upload()" flow-file-added="!form.uploadOptions.modal.flow.imageOnly || !!{png:1,gif:1,jpg:1,jpeg:1}[$file.getExtension()]" flow-drop="" flow-drop-enabled="!form.uploadOptions.modal.flow.dropEnabled" flow-drag-enter="!!form.uploadOptions.modal.flow.dropEnabled ? flowClass=\'flow-drag-enter\' : flowClass={}" flow-drag-leave="flowClass={}" ng-class="flowClass" flow-file-success="evalExpr(form.uploadOptions.modal.flow.success, {file:$file, formkey:form.key})"><div class="text-center col-xs-12 thumb-container"><div class="" flow-btn="" style="cursor:pointer;"><img width="100" ng-src="images/add-placeholder.png"><input type="file" multiple="multiple" style="visibility: hidden; position: absolute;"><div class="thumb-overlay" style="width:100px;"><img width="100" ng-src="images/add-placeholder-hover.png" style="cursor:pointer;"></div></div></div></div></li></ul><div class="clearfix"><br></div><input type="hidden" sf-changed="form" ng-model="$$value$$" schema-validate="form"> <span class="help-block">{{ (hasError() && errorMessage(schemaError())) || form.description}}</span></div><div class="clearfix"></div></div></div>'),e.put("directives/decorators/bootstrap/upload/file_upload_view.html",'<div class="form-group" ng-class="{\'has-error\': hasError(), \'has-success\': hasSuccess()}"><label class="control-label" ng-show="showTitle()">{{form.title}}</label><div class="form-group"><div class="gallery-box"><h2 class="blue">View mode</h2><ul class="list-inline"><li ng-repeat="attachment in $$value$$.value.attachments" style="display:inline-table;"><div class="text-center col-xs-12 thumb-container"><img ng-if="attachment.mimeType.indexOf(\'image\') != -1" width="100" ng-src="{{attachment.url}}"> <img ng-if="attachment.mimeType.indexOf(\'spreadsheetml\') != -1 || attachment.mimeType.indexOf(\'excel\') != -1" width="100" ng-src="images/xlsx-placeholder.png"> <img ng-if="attachment.mimeType.indexOf(\'wordprocessingml\') != -1 || attachment.mimeType.indexOf(\'msword\') != -1" width="100" ng-src="images/docx-placeholder.png"> <img ng-if="attachment.mimeType.indexOf(\'pdf\') != -1" width="100" ng-src="images/pdf-placeholder.png"><img ng-if="attachment.mimeType.indexOf(\'pdf\') == -1 && attachment.mimeType.indexOf(\'image\') == -1 && attachment.mimeType.indexOf(\'spreadsheetml\') == -1 && attachment.mimeType.indexOf(\'excel\') == -1 && attachment.mimeType.indexOf(\'wordprocessingml\') == -1 && attachment.mimeType.indexOf(\'msword\') == -1" width="100" ng-src="images/file-placeholder.png"> <span ng-click="evalExpr(form.uploadOptions.modal.flow.removeFile, {formkey:form.key, index:$index, url:attachment.url});" style="position:absolute; top: -10px; right: 0; z-index:1000; cursor:pointer;"><img ng-src="images/thumb-close.png"></span><div class="thumb-overlay"><p><span style="font-size: 0.8em; word-wrap: break-word;">{{attachment.printName}}</span></p></div></div></li></ul><div class="clearfix"><br></div><input type="hidden" sf-changed="form" ng-model="$$value$$" schema-validate="form"> <span class="help-block">{{ (hasError() && errorMessage(schemaError())) || form.description}}</span></div><div class="clearfix"></div></div></div>')}]),angular.module("schemaForm-file-upload",["schemaForm","flow"]).config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider",function(e,a,i){console.log("schemaFormProvider",e);var t=function(a,t,l){if("object"===t.type&&"file_upload"==t.format){var o=e.stdFormObj(a,t,l);return console.log("form is",o),o.key=l.path,"view"==t["default"].view_mode?o.type="attachmentlist":o.type="file_upload",console.log("form type in directive: ",o.type),l.lookup[i.stringify(l.path)]=o,o}};e.defaults.object.unshift(t),a.addMapping("bootstrapDecorator","attachmentlist","directives/decorators/bootstrap/upload/file_upload_view.html"),a.addMapping("bootstrapDecorator","file_upload","directives/decorators/bootstrap/upload/file_upload.html"),a.createDirective("attachmentlist","directives/decorators/bootstrap/upload/file_upload_view.html"),a.createDirective("file_upload","directives/decorators/bootstrap/upload/file_upload.html")}]);